---
title: "있었는데요 없었습니다"
description: >-
    JOIN
author: jutory
date: YYYY-MM-DD HH:MM:SS +09:00
categories: [SQL Coding Test, Programmers]
tags: [SQL]
---

## **문제**

다음은 동물 보호소에서 관리하는 동물 입소 및 입양 정보를 담은 `ANIMAL_INS`와 `ANIMAL_OUTS` 테이블입니다.

> #### _ANIMAL_INS 테이블_

| Column name       | Type       | Nullable | Description            |
|-------------------|------------|----------|------------------------|
| ANIMAL_ID         | VARCHAR(N) | FALSE    | 동물 ID                |
| ANIMAL_TYPE       | VARCHAR(N) | FALSE    | 생물 종                |
| DATETIME          | DATETIME   | FALSE    | 보호 시작일            |
| INTAKE_CONDITION  | VARCHAR(N) | FALSE    | 보호 시작 시 상태      |
| NAME              | VARCHAR(N) | TRUE     | 이름                   |
| SEX_UPON_INTAKE   | VARCHAR(N) | FALSE    | 성별 및 중성화 여부    |

> #### _ANIMAL_OUTS 테이블_

| Column name       | Type       | Nullable | Description            |
|-------------------|------------|----------|------------------------|
| ANIMAL_ID         | VARCHAR(N) | FALSE    | 동물 ID                |
| ANIMAL_TYPE       | VARCHAR(N) | FALSE    | 생물 종                |
| DATETIME          | DATETIME   | FALSE    | 입양일                |
| NAME              | VARCHAR(N) | TRUE     | 이름                   |
| SEX_UPON_OUTCOME  | VARCHAR(N) | FALSE    | 성별 및 중성화 여부    |

<br>
- - -
## **문제 정의**

> `ANIMAL_INS`와 `ANIMAL_OUTS` 테이블에서 아래 조건을 만족하는 데이터를 조회하는 SQL문을 작성하세요:
> 1. **입양일(DATETIME)**이 **보호 시작일(DATETIME)**보다 빠른 동물
> 2. 동물의 **동물 ID(ANIMAL_ID)**와 **이름(NAME)** 출력
> 
> 결과 정렬 기준:
> 1. 보호 시작일을 기준으로 **오름차순 정렬**
> 
> 주의사항:  
> `NAME` 컬럼이 NULL일 수 있으므로 이를 고려하여 처리해야 합니다.  
{: .prompt-info }

<br>
- - -
## **정답**

```sql
SELECT 
    AI.ANIMAL_ID, 
    AI.NAME
FROM 
    ANIMAL_INS AI
JOIN 
    ANIMAL_OUTS AO
ON 
    AI.ANIMAL_ID = AO.ANIMAL_ID
WHERE 
    AO.DATETIME < AI.DATETIME
ORDER BY 
    AI.DATETIME ASC;  
```

<br>
- - -
## **Tip**

> 1. **두 테이블을 동물 ID로 조인합니다.**  
>    - **`JOIN`**을 사용하여 `ANIMAL_INS`와 `ANIMAL_OUTS` 테이블을 연결합니다.  
>    - **`AI.ANIMAL_ID = AO.ANIMAL_ID`** 조건으로 동일한 동물에 대한 데이터를 매칭합니다.
>
> 2. **입양일이 보호 시작일보다 빠른 데이터를 필터링합니다.**  
>    - **`WHERE AO.DATETIME < AI.DATETIME`**: 입양일(`AO.DATETIME`)이 보호 시작일(`AI.DATETIME`)보다 이른 경우를 선택합니다.
>
> 3. **보호 시작일 기준으로 결과를 정렬합니다.**  
>    - **`ORDER BY AI.DATETIME ASC`**: 보호 시작일을 기준으로 오름차순 정렬하여 데이터의 시간 순서를 명확히 합니다.
>
> 4. **NULL 값 처리에 유의합니다.**  
>    - `NAME` 컬럼이 NULL일 수 있으므로 결과를 확인할 때 NULL 값 처리 여부를 점검해야 합니다.
{: .prompt-tip }
> SQL Dialect Used: Oracle

<br>
- - -
## **Useful link**

[있었는데요 없었습니다](https://school.programmers.co.kr/learn/courses/30/lessons/59043)